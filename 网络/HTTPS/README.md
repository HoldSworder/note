# HTTPS
https的SSL加密是在传输层实现的

## http和https的区别
* https协议需要ca证书，费用较高
* http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议
* 使用不同的链接方式，端口也不同，http：80 https：443

## 工作原理
* 客户使用https url访问服务器，则要求web服务器建立ssl链接
* web服务器接收到客户端的请求之后，会将网站的证书（证书包含公钥），返回给客户端
* 客户端和web服务器端开始协商SSL链接的安全等级，也就是加密等级
* 客户端浏览器通过双方协商一致的安全等级，建立会话密钥，然后通过网站的公钥来加密会话密钥，并传送给网站
* web服务器通过自己的私钥解密出会话密钥
* web服务器通过会话密钥加密与客户端之间的通信

## SSL协议工作原理版本2
1. 客户端给出协议版本号、一个客户端生成随机数，以及客户端支持的加密方法
2. 服务端确认双方使用的加密方法，并给出数字证书、以及一个服务器生成的随机数
3. 客户端确认数字证书有效，然后生成一个新的随机数，并使用数字证书中的公钥加密随机数
4. 服务端使用自己的私钥获取客户端的随机数
5. 双方使用约定的加密方法，使用前面三个随机数生成‘对话密钥’用来加密接下来的整个对话

## 对称加密
使用相同的算法可以进行加密和解密

## 非对称加密
私钥加密的内容，所有公钥都可以解密；公钥加密的内容，只有私钥可以解密

## 概括
HTTPS要使通信过程的到安全保证，必须使用对称加密算法，但是协商对称加密算法的过程，需要使用费对称加密算法来保证安全，然而直接使用非对称加密的过程本身也不安全，会有中间人篡改公钥的可能性，所以客户端和服务端不直接使用公钥，而是使用数字证书签发机构颁发的证书来保证非对称加密过程本身的安全。这样通过这些机制协商出一个对称加密算法，就此双方使用该算法进行加密解密，从而解决了客户端与服务端之间的通信安全问题。